å½“ç„¶å¯ä»¥ï¼Œä»¥ä¸‹æ˜¯ä½ åˆšæ‰å…³äº `embedding` ä¸ `sparse_embedding` åœ¨ RAG åº”ç”¨ä¸­çš„é€‰æ‹©æ€»ç»“ï¼Œæ ¼å¼é€‚åˆä½œä¸ºä»£åŠæ¸…å•ï¼ˆTo-Doï¼‰è®°å½•ï¼š

---

## âœ… RAG å‘é‡ç±»å‹é€‰æ‹©æ€»ç»“ï¼ˆTo-Doï¼‰

### ğŸ§  å½“å‰ç›®æ ‡ï¼šæ„å»ºé«˜è´¨é‡ RAG åº”ç”¨ï¼Œé€‰æ‹©åˆé€‚çš„å‘é‡ç±»å‹ç”¨äºæ£€ç´¢

---

### 1ï¸âƒ£ ä½¿ç”¨ç¨ å¯†å‘é‡ï¼ˆ`embedding`ï¼‰

* [ ] é€‚åˆé€šç”¨è¯­ä¹‰ç›¸ä¼¼åº¦æ£€ç´¢ï¼ˆæ¨¡ç³Šæé—®ã€è·¨è¡¨è¾¾æ–¹å¼ï¼‰
* [ ] æ”¯æŒ Chromaã€FAISSã€Milvus ç­‰å‘é‡æ•°æ®åº“
* [ ] ä½¿ç”¨æ–¹å¼ï¼š

  ```python
  vec = response.output['embeddings'][0]['embedding']
  ```

---

### 2ï¸âƒ£ ä½¿ç”¨ç¨€ç–å‘é‡ï¼ˆ`sparse_embedding`ï¼‰

* [ ] é€‚åˆå…³é”®è¯åŒ¹é…ã€æœ¯è¯­æ˜ç¡®çš„æŠ€æœ¯æ–‡æ¡£ï¼ˆå¦‚èŠ¯ç‰‡èµ„æ–™ã€API æ–‡æ¡£ï¼‰
* [ ] æ”¯æŒ ElasticSearchã€BM25 ç­‰å€’æ’ç´¢å¼•å¼•æ“
* [ ] ä½¿ç”¨æ–¹å¼ï¼š

  ```python
  sparse = response.output['embeddings'][0]['sparse_embedding']
  ```

---

### 3ï¸âƒ£ ä½¿ç”¨ç¨ å¯† + ç¨€ç–ï¼ˆHybrid Retrievalï¼‰

* [ ] æ¨èç”¨äºå¤æ‚é—®ç­”ç³»ç»Ÿï¼Œæå‡ Recall å’Œ Precision
* [ ] ç¨ å¯†å‘é‡é€å…¥å‘é‡åº“ï¼Œç¨€ç–å‘é‡é€å…¥ BM25/ES
* [ ] æœ€ç»ˆåšå€™é€‰é›†åˆå¹¶æˆ–æ‰“åˆ†èåˆï¼ˆscore fusion / rerankï¼‰
* [ ] ä½¿ç”¨æ–¹å¼ï¼š

  ```python
  dense = response.output['embeddings'][0]['embedding']
  sparse = response.output['embeddings'][0]['sparse_embedding']
  ```

---

### âœ… æ¨èå·¥å…·æ ˆï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰

* [ ] LangChainï¼š`ParentDocumentRetriever` + `VectorStoreRetriever` + `BM25Retriever`
* [ ] LlamaIndexï¼š`HybridRetriever`ï¼ˆdense+sparseï¼‰
* [ ] Haystack / Weaviateï¼ˆåŸç”Ÿæ”¯æŒ hybridï¼‰
* [ ] è‡ªå®šä¹‰ï¼šå°†ä¸¤ä¸ªé€šé“ç»“æœåˆå¹¶ + rerank

---

æ˜¯å¦éœ€è¦æˆ‘å¸®ä½ æŠŠè¿™ä¸ªæ¸…å•å¯¼å‡ºä¸º Markdown æˆ– Task æ–‡ä»¶ï¼Ÿ
